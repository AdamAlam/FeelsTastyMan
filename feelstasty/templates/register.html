{% extends 'layout.html' %}
{% block content %}
<div class="container pt-3">
    <div class="content-section">
        <form method="POST" action="">
            {{form.hidden_tag()}}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">
                    Join Today
                </legend>
                {% with messages = get_flashed_messages(with_categories=true)%}
                {% if messages %}
                {% for category, message in messages %}
                <div class="alert alert-{{category}}">
                    {{message}}
                </div>
                {% endfor %}
                {% endif %}
                {% endwith%}
                <div class="form-group">
                    {{form.f_name.label(class="form-control-label")}}
                    {% if form.f_name.errors %}
                    {{form.f_name(class="form-control is-invalid")}}
                    <div class="invalid-feedback">
                        {% for error in form.f_name.errors  %}
                        <span>{{error}}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{form.f_name(class="form-control")}}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{form.l_name.label(class="form-control-label")}}
                    {% if form.l_name.errors %}
                    {{form.l_name(class="form-control is-invalid")}}
                    <div class="invalid-feedback">
                        {% for error in form.l_name.errors  %}
                        <span>{{error}}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{form.l_name(class="form-control")}}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{form.birthdate.label(class="form-control-label")}}
                    {% if form.birthdate.errors %}
                    {{form.birthdate(class="form-control is-invalid")}}
                    <div class="invalid-feedback">
                        Please enter a valid birthday with the format MM/DD/YYYY.
                    </div>
                    {% else %}
                    {{form.birthdate(class="form-control")}}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{form.gender.label(class="form-control-label")}} <br>
                    {% if form.gender.errors %}
                    {{form.gender (class="form-control is-invalid")}}
                    <div class="invalid-feedback">
                        {% for error in form.gender.errors  %}
                        <span>{{error}}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{form.gender (class="form-control")}}
                    {% endif %}
                </div>
                <div class="form-group">  
                    {{form.username.label(class="form-control-label")}}
                    {% if form.username.errors %}
                        {{form.username(class="form-control is-invalid")}}
                        <div class="invalid-feedback">
                            {% for error in form.username.errors  %}
                                <span>{{error}}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                    {{form.username(class="form-control")}}
                    {% endif %} 
                </div>
                <div class="form-group">
                    {{form.email.label(class="form-control-label")}}
                    {% if form.email.errors %}
                    {{form.email(class="form-control is-invalid")}}
                    <div class="invalid-feedback">
                        {% for error in form.email.errors  %}
                        <span>{{error}}</span>
                        {% endfor %}
                    </div>
                    {% else %}
                    {{form.email(class="form-control")}}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{form.password.label(class="form-control-label")}}
                     {% if form.password.errors %}
                     {{form.password(class="form-control is-invalid")}}
                     <div class="invalid-feedback">
                         {% for error in form.password.errors  %}
                         <span>{{error}}</span>
                         {% endfor %}
                     </div>
                     {% else %}
                     {{form.password(class="form-control")}}
                     {% endif %}
                </div>
                <div class="form-group">
                    {{form.confirm_password.label(class="form-control-label")}}
                     {% if form.confirm_password.errors %}
                     {{form.confirm_password(class="form-control is-invalid")}}
                     <div class="invalid-feedback">
                         {% for error in form.confirm_password.errors  %}
                         <span>{{error}}</span>
                         {% endfor %}
                     </div>
                     {% else %}
                     {{form.confirm_password(class="form-control")}}
                     {% endif %}
                </div>
            </fieldset>
            <div class="form-group">
                {{form.submit(class="btn btn-outline-info")}}
            </div>
        </form>
    </div>
    <div class="text-muted">
        <small>
            Already have an account? <a href="{{url_for('login')}}">Login</a>
        </small>
    </div>
</div>

{% endblock content %}